Quiero que me ayudes a redactar un documento PRD que sirva para hacer una web app que desarrollaremos para el colegio "Escola el Turó". El PRD lo quiero para tener una base sólida para poder desarrollar la web app y debe contener la secciones con la UI, la base de datos y las pantallas que harán falta. Y una sección de implementación paso a paso que iremos siguiendo.

El objetivo de la web app es añadir automatizaciones con IA que ayuden a las tareas rutinarias de la escuela. De momento empezaremos con una funcionalidad que será "Gestió de Curriculums", pero iremos añadiendo más funcionalidades con el tiempo.

Así que inicialmente la web app solo tendrá la funcionalidad de "Dashboard" (donde se irán añadiendo KPIs visuales de las funcionalidades) y "Gestió de Curriculums", pero deberá estar preparada para futuras funcionalidades.

Te voy a explicar la funcionalidad de "Gestió de Curriculums" para que puedas entenderla mejor, pero tú hazme preguntas para ir diseñando la web app, la base de datos y las pantallas que harán falta. Al final de las preguntas, guarda toda la información en un archivo llamado "PRD.md" en la carpeta "docs".

Los currículums ahora mismo se están recibiendo en un mail de GMAIL. Se pueden recibir en formato PDF o Word y el emisor puede ser directamente el mail del candidato o puede ser un mail de un formulario o un reenvío desde otro mail. La idea es detectar el mail del candidato correctamente y que este sea la clave en la tabla de candidatos. Las partes que tenemos que desarrollar son:

1.- Un agente de IA que se ejecute en el servidor y que se conecte al mail de GMAIL del colegio. Este agente deberá ser capaz de leer los mails no procesados por el agente y en una primera pasada detectar si el mail está relacionado con un currículum de un candidato o es un mail de cualquier otro tema. Este primer agente de IA tendrá que procesar TODOS los mails que lleguen al mail del colegio, así que como es una tarea sencilla de clasificación utilizarmos un modelo de IA barato (haiku, gpt-5-nano o similar).

2.- Si el primer agente detecta que el mail está relacionado con un currículum de un candidato, entonces se lo pasará a un segundo agente de IA que será el encargado de extraer la información del currículum y guardarla en la base de datos. Este segundo agente de IA tiene que extraer la información del PDF o del WORD correctamente, no debe fallar y procesará pocos currículums, así que podemos usar un agente de IA potente (OPUS, GPT-5.1 u otro que investigues que funcione mejor para extraer información).

3.- La información extraida que necessitamos inicialmente (esto puede cambiar y debe ser fácil de ampliar) será: Nombre y apellidos del candidato, mail del candidato, teléfono del candidato, fecha de nacimiento del candidato (si no la ponen la puedes inferir más o menos desde el año que acabó la universidad suponiendo que acabó con 22 años, aunque estas aproximaciones habrá que marcarlas en la BD para mostrarlas en la UI), , nivel de estudios del candidato, experiencia laboral del candidato,Nº de meses de experiencia dando clases, idiomas del candidato, etapa donde puede dar clase (este dato puede ser multietapa: infantil, primaria, infantil y primaria, secundaria y P.A.S -Personal de Administració i Serveis).

4.- Con la información extraida se marcará el mail recibido en GMAIL con una etiqueta de "infantil", "primaria", "infantil y primaria", "secundaria" o "P.A.S" (dependiendo de la etapa donde puede dar clase el candidato) y se crearán los registros en la base de datos en la tabla de candidatos y otras tablas si son necesarias. Este registro tendrá un estado inicial de "pendiente" y se cambiará a "visto" cuando algún usuario entre en la web app y lo vea. También necesitaremos un campo de "evaluación" con los valores de "Molt Interesant", "Interesant", "Poc Interesant" y "Descartat". También necesitaremos campos de fechas: Fecha de recepción para guardar el día que llegó el mail con el currículum, fecha de ultimo contacto con el candidato para guardar las última fecha en la que se contactó desde el colegio y última fecha de respuesta para saber la fecha en la que el candidato respondió al mail del colegio.

5.- La opción de la App de "Gestió de Currículums" debe sacar un listado de todos los candidatos que han enviado su currículum y están en la BD. Además es muy importante que el listado pueda ser filtrable por varias opciones: por etapa (infantil, primaria, infantil y primaria, secundaria y P.A.S), por estado (pendiente, visto), por evaluación (Molt Interesant, Interesant, Poc Interesant, Descartat), por idiomas, por rango de fecha de recepción del currículum, etc. Cada fila del listado debe mostrar la siguiente información: Nombre y apellidos del candidato, mail del candidato, teléfono del candidato, etapa donde puede dar clase, idiomas del candidato, fecha de recepción del currículum, fecha de ultimo contacto con el candidato, última fecha de respuesta, evaluación, estado. Además cada fila debe ser clicable para poder ver el detalle del candidato y poder editar la información del candidato.

6.- La pantalla de detalle de un candidato debe dividirse en dos secciones separadas verticalmente por un panel resizable. En la sección de la izquierda debe mostrarse el PDF / WORD original que habremos guardado también en el backend asociado a ese candidato y en la sección de la derecha se verán también dos paneles esta vez horizontales separados por un panel resizable. En el panel superior de la derecha se mostrarán los datos extraidos por el agente de IA y algún campo extra editable como el estado, evaluació y observaciones. En el panel inferior de la derecha se El histórico de mails intercambiados con ese candidado ordenados de más nuevos a más viejos (el último mail será normalmente el mail original que recibio el colegio del candidato).

7.- La gestión de envío de mails, no se gestionará desde la APP, sino que se hará desde GMAIL. Normalmente el colegio, cuando tiene una plaza vacantes envía un mail desde GMAIL a todos los candidatos en copia oculta explicando la plaza ofertada y pidiendo que respondan si están interesados. El agente de IA que procesa todos los mails de GMAIL debe detectar este mail y añadirlo al hilo de conversación de cada uno de los candidatos en copia oculta en la base de datos. Lo mismo tiene que pasar cuando los candidatos respondan a ese mail, el agente de IA debe detectar la respuesta y añadirla al hilo de conversación de ese candidato en la base de datos e inferir si el candidato está interesado o no en la plaza ofertada y actualizar el campo de "fecha de ultimo contacto" y "última fecha de respuesta" y el campo de "interesado" a SI, NO, DUBTE. 


TECNICAMENTE

- Los modelos de IA deben ser encapsulados y fácilmente intercambiables. Por ejemplo, si en un futuro queremos cambiar de proveedor de IA, deberemos poder hacerlo sin tener que reescribir toda la aplicación.
- La UI debe ser toda en idioma Català, es muy importante que sea así.
- Tecnicamente la App será una aplicación Next.js que desplegaremos en Vercel (tienes una skill de  next-best-practices y  /vercel-react-best-practices para detalles de implementación en next y vercel)
- La BD estará en Supabase, al igual que la autenticación de usuarios, el almacenamiento de los pdfs y la ejecución de las funciones de IA del servidor (tienes una skill de supabase para detalles de implementación en supabase y también un MCP de supabase instalado)
- En la parte de UI hay que añadir que el diseño tiene que ser responsive por defecto ya que la App se usará  
  tanto en PC, como tablet y móvil.
- Aunque sólo tengamos de momento 2 opciones (Dashboard y Gestio de Curriculums) estas opciones estarán en un sidebar lateral (en la izquierda) que podrá colapsarse y en el móvil se mostrará como un menú hamburguesa.
- utilizaremos drizzle como ORM de Base de Datos
